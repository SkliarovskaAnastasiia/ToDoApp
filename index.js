(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function u(e,t){try{const s=JSON.stringify(t);localStorage.setItem(e,s)}catch(s){console.log(s)}}function g(e){try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}}function p(e){try{localStorage.removeItem(e)}catch(t){console.log(t)}}const L=()=>{document.body.classList.add("dark-theme"),u("darkmode","active")},h=()=>{document.body.classList.remove("dark-theme"),p("darkmode")};let f=g("darkmode");f==="active"&&L();document.querySelector(".js-theme-btn").addEventListener("click",()=>{f=g("darkmode"),f!=="active"?L():h()});const r={formEl:document.querySelector(".js-form"),tasksListEl:document.querySelector(".js-list"),textContentOfEmptyList:document.querySelector(".js-empty-item"),clearTasksBtn:document.querySelector(".js-clear-taskts-btn"),tasksQuantity:document.querySelector(".js-quantity"),filters:document.querySelectorAll(".js-filter-btn")};function m(e){const t=e.filter(c=>!c.completed).length,s=t===1?"task":"tasks";r.tasksQuantity.textContent=`${t} ${s} left`}function y(){r.tasksListEl.addEventListener("dragstart",e=>{e.target.tagName==="LI"&&setTimeout(()=>e.target.classList.add("dragging"),0)}),r.tasksListEl.addEventListener("dragend",e=>{e.target.tagName==="LI"&&e.target.classList.remove("dragging")})}function b(e){e.preventDefault();const t=r.tasksListEl.querySelector(".dragging");let c=[...r.tasksListEl.querySelectorAll(".js-list-item:not(.dragging)")].find(i=>e.clientY<=i.getBoundingClientRect().top+i.offsetHeight/2);r.tasksListEl.insertBefore(t,c)}function v(e,t){const s=document.createElement("li");return s.className="list-item js-list-item",s.id=`task-${e.id}`,s.draggable="true",s.innerHTML=`
  <input class="checkbox js-checkbox visually-hidden" type="checkbox" id="${t}"/>
  <label class="checkbox-label" for="${t}">
     <span class="custom-checkbox">
        <svg class="custom-checkbox-icon" width="10px" height="10px">
          <use href="/img/icons/symbol-defs.svg#icon-icon-check"></use>
        </svg>
     </span>
     <p class="task-text">${e.text}</p>
  </label>
  <button class="delate-btn" id="btn-${e.id}">
     <svg class="btn-icon">
         <use href="/img/icons/symbol-defs.svg#icon-icon-cross"></use>
     </svg>
  </button>
  `,s}function E(e){r.tasksListEl.innerHTML="",e.length?(r.textContentOfEmptyList.classList.add("is-hidden"),r.clearTasksBtn.disabled=!1):(r.textContentOfEmptyList.classList.remove("is-hidden"),r.clearTasksBtn.disabled=!0),e.forEach((t,s,c)=>{const i=v(t,s);r.tasksListEl.append(i);const a=i.querySelector(".js-checkbox");a.addEventListener("change",d=>{c[s].completed=d.currentTarget.checked,u("tasks",c),l(o),m(c)}),a.checked=t.completed,i.querySelector(`#btn-${t.id}`).addEventListener("click",()=>{x(t.id)})}),m(e)}function l(e){let t=[];switch(e){case"active":{t=n.filter(s=>!s.completed);break}case"completed":{t=n.filter(s=>s.completed);break}default:t=[...n]}E(t),y(),r.tasksListEl.addEventListener("dragover",b),r.tasksListEl.addEventListener("dragenter",s=>s.preventDefault())}let n=g("tasks")||[],o="all";n.length&&(r.textContentOfEmptyList.classList.add("is-hidden"),l(o),r.clearTasksBtn.addEventListener("click",k));function S(e){e.preventDefault();const t=r.formEl.elements.task.value.trim();if(t==="")return;const s={id:Date.now(),text:t,completed:!1};n.push(s),l(o),r.textContentOfEmptyList.classList.add("is-hidden"),u("tasks",n),r.clearTasksBtn.addEventListener("click",k),e.currentTarget.reset()}r.formEl.addEventListener("submit",S);function k(){o==="all"?n=[]:o==="active"?n=n.filter(e=>e.completed):o==="completed"&&(n=n.filter(e=>!e.completed)),u("tasks",n),l(o),m(n),n.length||(r.textContentOfEmptyList.classList.toggle("is-hidden"),r.clearTasksBtn.disabled=!0)}function x(e){n=n.filter(t=>t.id!==e),u("tasks",n),l(o),m(n),r.tasksListEl.children.length||r.textContentOfEmptyList.classList.remove("is-hidden")}r.filters.forEach(e=>{e.addEventListener("click",t=>{document.querySelector(".js-filter-btn.active").classList.remove("active"),t.target.classList.add("active"),o=t.target.id,l(o)})});
//# sourceMappingURL=index.js.map
