(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(c){if(c.ep)return;c.ep=!0;const n=s(c);fetch(c.href,n)}})();function u(t,e){try{const s=JSON.stringify(e);localStorage.setItem(t,s)}catch(s){console.log(s)}}function h(t){try{const e=localStorage.getItem(t);return e===null?void 0:JSON.parse(e)}catch(e){console.log(e)}}function g(t){try{localStorage.removeItem(t)}catch(e){console.log(e)}}const p=()=>{document.body.classList.add("dark-theme"),u("darkmode","active")},y=()=>{document.body.classList.remove("dark-theme"),g("darkmode")};let f=h("darkmode");f==="active"&&p();document.querySelector(".js-theme-btn").addEventListener("click",()=>{f=h("darkmode"),f!=="active"?p():y()});const o={formEl:document.querySelector(".js-form"),tasksListEl:document.querySelector(".js-list"),textContentOfEmptyList:document.querySelector(".js-empty-item"),clearTasksBtn:document.querySelector(".js-clear-taskts-btn"),tasksQuantity:document.querySelector(".js-quantity"),filters:document.querySelectorAll(".js-filter-btn")};function m(t){const e=t.filter(l=>!l.completed).length,s=e===1?"task":"tasks";o.tasksQuantity.textContent=`${e} ${s} left`}function L(t,e){const s=document.createElement("li");return s.className="list-item",s.id=`task-${t.id}`,s.innerHTML=`
  <input class="checkbox js-checkbox visually-hidden" type="checkbox" id="${e}"/>
  <label class="checkbox-label" for="${e}">
     <span class="custom-checkbox">
        <svg class="custom-checkbox-icon" width="10px" height="10px">
          <use href=".//img/icons/symbol-defs.svg#icon-icon-check"></use>
        </svg>
     </span>
     <p class="task-text">${t.text}</p>
  </label>
  <button class="delate-btn" id="btn-${t.id}">
     <svg class="btn-icon">
         <use href="./img/icons/symbol-defs.svg#icon-icon-cross"></use>
     </svg>
  </button>
  `,s}function b(t){o.tasksListEl.innerHTML="",t.length?(o.textContentOfEmptyList.classList.add("is-hidden"),o.clearTasksBtn.disabled=!1):(o.textContentOfEmptyList.classList.remove("is-hidden"),o.clearTasksBtn.disabled=!0),t.forEach((e,s,l)=>{const c=L(e,s);o.tasksListEl.append(c);const n=c.querySelector(".js-checkbox");n.addEventListener("change",d=>{l[s].completed=d.currentTarget.checked,u("tasks",l),a(i),m(l)}),n.checked=e.completed,c.querySelector(`#btn-${e.id}`).addEventListener("click",()=>{E(e.id)})}),m(t)}function a(t){let e=[];switch(t){case"active":{e=r.filter(s=>!s.completed);break}case"completed":{e=r.filter(s=>s.completed);break}default:e=[...r]}b(e)}let r=h("tasks")||[],i="all";r.length&&(o.textContentOfEmptyList.classList.add("is-hidden"),a(i),o.clearTasksBtn.addEventListener("click",k));function v(t){t.preventDefault();const e=o.formEl.elements.task.value.trim();if(e==="")return;const s={id:Date.now(),text:e,completed:!1};r.push(s),a(i),o.textContentOfEmptyList.classList.add("is-hidden"),u("tasks",r),o.clearTasksBtn.addEventListener("click",k),t.currentTarget.reset()}o.formEl.addEventListener("submit",v);function k(){i==="all"?r=[]:i==="active"?r=r.filter(t=>t.completed):i==="completed"&&(r=r.filter(t=>!t.completed)),u("tasks",r),a(i),m(r),r.length||(o.textContentOfEmptyList.classList.toggle("is-hidden"),o.clearTasksBtn.disabled=!0)}function E(t){r=r.filter(e=>e.id!==t),u("tasks",r),a(i),m(r),o.tasksListEl.children.length||o.textContentOfEmptyList.classList.remove("is-hidden")}o.filters.forEach(t=>{t.addEventListener("click",e=>{document.querySelector(".js-filter-btn.active").classList.remove("active"),e.target.classList.add("active"),i=e.target.id,a(i)})});
//# sourceMappingURL=index.js.map
