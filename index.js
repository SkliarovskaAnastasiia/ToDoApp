(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function u(t,e){try{const n=JSON.stringify(e);localStorage.setItem(t,n)}catch(n){console.log(n)}}function m(t){try{const e=localStorage.getItem(t);return e===null?void 0:JSON.parse(e)}catch(e){console.log(e)}}function E(t){try{localStorage.removeItem(t)}catch(e){console.log(e)}}const k=()=>{document.body.classList.add("dark-theme"),u("darkmode","active")},v=()=>{document.body.classList.remove("dark-theme"),E("darkmode")};let f=m("darkmode");f==="active"&&k();document.querySelector(".js-theme-btn").addEventListener("click",()=>{f=m("darkmode"),f!=="active"?k():v()});const s={formEl:document.querySelector(".js-form"),tasksListEl:document.querySelector(".js-list"),textContentOfEmptyList:document.querySelector(".js-empty-item"),clearTasksBtn:document.querySelector(".js-clear-taskts-btn"),tasksQuantity:document.querySelector(".js-quantity"),filters:document.querySelectorAll(".js-filter-btn")};function y(t){const e=t.filter(a=>!a.completed).length,n=e===1?"task":"tasks";s.tasksQuantity.textContent=`${e} ${n} left`}function g(t){const e=t.target.closest(".js-list-item");e&&setTimeout(()=>e.classList.add("dragging"),0),body.classList.add("no-scroll")}function L(t){const e=t.target.closest(".js-list-item");e&&e.classList.remove("dragging"),body.classList.remove("no-scroll")}function b(){s.tasksListEl.addEventListener("dragstart",g),s.tasksListEl.addEventListener("dragend",L),s.tasksListEl.addEventListener("touchstart",g),s.tasksListEl.addEventListener("touchend",L)}function p(t,e){const n=s.tasksListEl.querySelector(".dragging"),a=[...s.tasksListEl.querySelectorAll(".js-list-item:not(.dragging)")],r=e?t.touches[0].clientY:t.clientY;let i=a.find(l=>r<=l.getBoundingClientRect().top+l.offsetHeight/2);s.tasksListEl.insertBefore(n,i)}function S(t){t.preventDefault(),p(t,!1)}function T(t){p(t,!0)}function x(t,e){const n=document.createElement("li");return n.className="list-item js-list-item",n.id=`task-${t.id}`,n.draggable="true",n.innerHTML=`
  <input class="checkbox js-checkbox visually-hidden" type="checkbox" id="${e}"/>
  <label class="checkbox-label" for="${e}">
     <span class="custom-checkbox">
        <svg class="custom-checkbox-icon" width="10px" height="10px">
          <use href="/ToDoApp/assets/symbol-defs-BP4IDnnM.svg#icon-icon-check"></use>
        </svg>
     </span>
     <p class="task-text">${t.text}</p>
  </label>
  <button class="delate-btn" id="btn-${t.id}">
     <svg class="btn-icon">
         <use href="/ToDoApp/assets/symbol-defs-BP4IDnnM.svg#icon-icon-cross"></use>
     </svg>
  </button>
  `,n}function O(t){s.tasksListEl.innerHTML="",t.length?(s.textContentOfEmptyList.classList.add("is-hidden"),s.clearTasksBtn.disabled=!1):(s.textContentOfEmptyList.classList.remove("is-hidden"),s.clearTasksBtn.disabled=!0),t.forEach((e,n,a)=>{const r=x(e,n);s.tasksListEl.append(r);const i=r.querySelector(".js-checkbox");i.addEventListener("change",l=>{a[n].completed=l.currentTarget.checked,u("tasks",a),d(c)}),i.checked=e.completed,r.querySelector(`#btn-${e.id}`).addEventListener("click",()=>{q(e.id)})})}function d(t){let e=[];switch(t){case"active":{e=o.filter(n=>!n.completed);break}case"completed":{e=o.filter(n=>n.completed);break}default:e=[...o]}O(e),y(e),b(),s.tasksListEl.addEventListener("dragover",S),s.tasksListEl.addEventListener("dragenter",n=>n.preventDefault()),s.tasksListEl.addEventListener("touchmove",T)}let o=m("tasks")||[],c="all";o.length&&(s.textContentOfEmptyList.classList.add("is-hidden"),d(c),s.clearTasksBtn.addEventListener("click",h));function j(t){t.preventDefault();const e=s.formEl.elements.task.value.trim();if(e==="")return;const n={id:Date.now(),text:e,completed:!1};o.push(n),d(c),s.textContentOfEmptyList.classList.add("is-hidden"),u("tasks",o),s.clearTasksBtn.addEventListener("click",h),t.currentTarget.reset()}s.formEl.addEventListener("submit",j);function h(){c==="all"?o=[]:c==="active"?o=o.filter(t=>t.completed):c==="completed"&&(o=o.filter(t=>!t.completed)),u("tasks",o),d(c),o.length||(s.textContentOfEmptyList.classList.toggle("is-hidden"),s.clearTasksBtn.disabled=!0)}function q(t){o=o.filter(e=>e.id!==t),u("tasks",o),d(c),s.tasksListEl.children.length||s.textContentOfEmptyList.classList.remove("is-hidden")}s.filters.forEach(t=>{t.addEventListener("click",e=>{document.querySelector(".js-filter-btn.active").classList.remove("active"),e.target.classList.add("active"),c=e.target.id,d(c)})});
//# sourceMappingURL=index.js.map
