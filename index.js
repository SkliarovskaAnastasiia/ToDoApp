(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();function u(e,t){try{const s=JSON.stringify(t);localStorage.setItem(e,s)}catch(s){console.log(s)}}function g(e){try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}}function k(e){try{localStorage.removeItem(e)}catch(t){console.log(t)}}const p=()=>{document.body.classList.add("dark-theme"),u("darkmode","active")},h=()=>{document.body.classList.remove("dark-theme"),k("darkmode")};let m=g("darkmode");m==="active"&&p();document.querySelector(".js-theme-btn").addEventListener("click",()=>{m=g("darkmode"),m!=="active"?p():h()});const r={formEl:document.querySelector(".js-form"),tasksListEl:document.querySelector(".js-list"),textContentOfEmptyList:document.querySelector(".js-empty-item"),clearTasksBtn:document.querySelector(".js-clear-taskts-btn"),tasksQuantity:document.querySelector(".js-quantity"),filters:document.querySelectorAll(".js-filter-btn")};function f(e){const t=e.filter(o=>!o.completed).length,s=t===1?"task":"tasks";r.tasksQuantity.textContent=`${t} ${s} left`}function y(){r.tasksListEl.addEventListener("dragstart",e=>{e.target.tagName==="LI"&&setTimeout(()=>e.target.classList.add("dragging"),0)}),r.tasksListEl.addEventListener("dragend",e=>{e.target.tagName==="LI"&&e.target.classList.remove("dragging")})}function b(e){e.preventDefault();const t=r.tasksListEl.querySelector(".dragging");let o=[...r.tasksListEl.querySelectorAll(".js-list-item:not(.dragging)")].find(n=>e.clientY<=n.getBoundingClientRect().top+n.offsetHeight/2);r.tasksListEl.insertBefore(t,o)}function v(e,t){const s=document.createElement("li");return s.className="list-item js-list-item",s.id=`task-${e.id}`,s.draggable="true",s.innerHTML=`
  <input class="checkbox js-checkbox visually-hidden" type="checkbox" id="${t}"/>
  <label class="checkbox-label" for="${t}">
     <span class="custom-checkbox">
        <svg class="custom-checkbox-icon" width="10px" height="10px">
          <use href="/ToDoApp/assets/symbol-defs-BP4IDnnM.svg#icon-icon-check"></use>
        </svg>
     </span>
     <p class="task-text">${e.text}</p>
  </label>
  <button class="delate-btn" id="btn-${e.id}">
     <svg class="btn-icon">
         <use href="/ToDoApp/assets/symbol-defs-BP4IDnnM.svg#icon-icon-cross"></use>
     </svg>
  </button>
  `,s}function E(e){r.tasksListEl.innerHTML="",e.length?(r.textContentOfEmptyList.classList.add("is-hidden"),r.clearTasksBtn.disabled=!1):(r.textContentOfEmptyList.classList.remove("is-hidden"),r.clearTasksBtn.disabled=!0),e.forEach((t,s,o)=>{const n=v(t,s);r.tasksListEl.append(n);const a=n.querySelector(".js-checkbox");a.addEventListener("change",d=>{o[s].completed=d.currentTarget.checked,u("tasks",o),l(c),f(o)}),a.checked=t.completed,n.querySelector(`#btn-${t.id}`).addEventListener("click",()=>{T(t.id)})}),f(e)}function l(e){let t=[];switch(e){case"active":{t=i.filter(s=>!s.completed);break}case"completed":{t=i.filter(s=>s.completed);break}default:t=[...i]}E(t),y(),r.tasksListEl.addEventListener("dragover",b),r.tasksListEl.addEventListener("dragenter",s=>s.preventDefault())}let i=g("tasks")||[],c="all";i.length&&(r.textContentOfEmptyList.classList.add("is-hidden"),l(c),r.clearTasksBtn.addEventListener("click",L));function S(e){e.preventDefault();const t=r.formEl.elements.task.value.trim();if(t==="")return;const s={id:Date.now(),text:t,completed:!1};i.push(s),l(c),r.textContentOfEmptyList.classList.add("is-hidden"),u("tasks",i),r.clearTasksBtn.addEventListener("click",L),e.currentTarget.reset()}r.formEl.addEventListener("submit",S);function L(){c==="all"?i=[]:c==="active"?i=i.filter(e=>e.completed):c==="completed"&&(i=i.filter(e=>!e.completed)),u("tasks",i),l(c),f(i),i.length||(r.textContentOfEmptyList.classList.toggle("is-hidden"),r.clearTasksBtn.disabled=!0)}function T(e){i=i.filter(t=>t.id!==e),u("tasks",i),l(c),f(i),r.tasksListEl.children.length||r.textContentOfEmptyList.classList.remove("is-hidden")}r.filters.forEach(e=>{e.addEventListener("click",t=>{document.querySelector(".js-filter-btn.active").classList.remove("active"),t.target.classList.add("active"),c=t.target.id,l(c)})});
//# sourceMappingURL=index.js.map
